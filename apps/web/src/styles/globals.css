@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom theme color variables */
:root {
  --kan-sidebar-bg: #ffffff;
  --kan-pages-bg: #f8f8f8;
  --kan-board-bg: #f5f5f5;
  --kan-sidebar-text: #000000;
  --kan-pages-text: #000000;
  --kan-board-text: #000000;
  /* Button theme group - derives from pages */
  --kan-button-bg: #e5e5e5;
  --kan-button-text: #000000;
  /* Menu theme group */
  --kan-menu-bg: #ffffff;
  --kan-menu-text: #000000;
}

.dark {
  --kan-sidebar-bg: #161616;
  --kan-pages-bg: #1c1c1c;
  --kan-board-bg: #232323;
  --kan-sidebar-text: #ffffff;
  --kan-pages-text: #ffffff;
  --kan-board-text: #ffffff;
  /* Button theme group */
  --kan-button-bg: #2a2a2a;
  --kan-button-text: #ffffff;
  /* Menu theme group */
  --kan-menu-bg: #1c1c1c;
  --kan-menu-text: #ffffff;
}

[contenteditable="true"]:empty:before {
  content: attr(placeholder);
  display: block;
  color: #707070;
  font-size: 0.8rem;
}

.gradient-border::before {
  background: conic-gradient(
    from 0deg,
    transparent 0deg,
    transparent 45deg,
    rgba(244, 114, 182, 0.4) 85deg,
    rgba(192, 132, 252, 0.4) 95deg,
    transparent 110deg,
    transparent 360deg
  );
  content: "";
  position: absolute;
  inset: -50%;
  width: 200%;
  height: 200%;
}

@layer utilities {
  @supports not (overflow-wrap: anywhere) {
    .break-anywhere {
      word-break: break-word;
    }
  }

  @supports (overflow-wrap: anywhere) {
    .break-anywhere {
      overflow-wrap: anywhere;
    }
  }
}

/* Tippy.js tooltip theme */
.tippy-box[data-theme~="tooltip"] {
  @apply rounded-md border border-light-600 bg-white px-2 py-1 text-sm text-neutral-900 shadow-lg dark:border-dark-600 dark:bg-dark-100 dark:text-dark-1000;
}

.tippy-box[data-theme~="tooltip"] > .tippy-arrow::before {
  @apply border-t-light-600 dark:border-t-dark-600;
}

.tippy-box[data-theme~="tooltip"][data-placement^="bottom"]
  > .tippy-arrow::before {
  @apply border-b-light-600 dark:border-b-dark-600;
}

/* Fade-in animation for menus and popups */
@keyframes fade-in {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-fade-in {
  animation: fade-in 150ms ease-out forwards;
}

/* Multi-select delete styles */
.selected-item {
  border-width: 2px !important;
  box-shadow: 0 0 8px 2px rgba(59, 130, 246, 0.4);
  border-color: rgb(59, 130, 246) !important;
}

.selected-item-list {
  border-width: 2px !important;
  box-shadow: 0 0 12px 3px rgba(59, 130, 246, 0.3);
  border-color: rgb(59, 130, 246) !important;
}

/* Fade out animation for deleting items */
@keyframes fade-out {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.95);
  }
}

.delete-fade-out {
  animation: fade-out 400ms ease-out forwards;
}

/* DnD-safe transitions - exclude transform to prevent conflicts with drag and drop */
.transition-dnd-safe {
  transition-property:
    color, background-color, border-color, text-decoration-color, fill, stroke,
    opacity, box-shadow;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 200ms;
}
