# Kan Self-Hosted Configuration
# See README.md for documentation

# ===================
# Required
# ===================
NEXT_PUBLIC_BASE_URL=http://localhost:3000
BETTER_AUTH_SECRET=  # Random 32+ char string (openssl rand -base64 24 | tr -dc 'a-zA-Z0-9' | head -c 32)

# Database (external) or leave empty for Docker Compose
POSTGRES_URL=  # e.g. postgresql://kan:your_password@your_host:5432/kan

# ===================
# Docker Compose Only
# ===================
POSTGRES_PASSWORD=

# ===================
# Storage (optional)
# ===================
STORAGE_PATH=  # defaults to /app/data

# ===================
# Authentication
# ===================
NEXT_PUBLIC_ALLOW_CREDENTIALS=true  # Enable email/password login
NEXT_PUBLIC_DISABLE_SIGN_UP=  # Set to "true" to disable public sign-ups

# Trusted origins for CORS (comma-separated URLs)
BETTER_AUTH_TRUSTED_ORIGINS=

# Restrict OAuth/OIDC to specific email domains (comma-separated)
BETTER_AUTH_ALLOWED_DOMAINS=

# ===================
# OAuth Providers
# ===================
# Google
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# GitHub
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# Discord
DISCORD_CLIENT_ID=
DISCORD_CLIENT_SECRET=

# Generic OIDC (Keycloak, Auth0, Okta, etc.)
OIDC_CLIENT_ID=
OIDC_CLIENT_SECRET=
OIDC_DISCOVERY_URL=  # e.g. https://auth.example.com/.well-known/openid-configuration

# ===================
# Email (optional)
# ===================
SMTP_HOST=
SMTP_PORT=465
SMTP_USER=
SMTP_PASSWORD=
EMAIL_FROM=  # e.g. "Kan <hello@example.com>"
EMAIL_APP_NAME=  # Custom name shown in email header (defaults to "kan.bn")
SMTP_SECURE=  # set to "false" for port 587
SMTP_REJECT_UNAUTHORIZED=  # set to "false" to accept invalid certs
NEXT_PUBLIC_DISABLE_EMAIL=  # set to "true" to disable all email features
